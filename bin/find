#!/usr/bin/env ruby

require 'headline_fetcher'
require 'headline_checker'
require 'formatter'

checker    = HeadlineChecker.new
fetcher    = HeadlineFetcher.new("http://feeds.bbci.co.uk/news/rss.xml")
formatter  = Formatter.new

headlines = fetcher.fetch

headlines.each do |hl|
  if checker.is_all_nouns?(hl[:title])
    hl[:title] = formatter.format(hl[:title])
    p hl
  end
end
